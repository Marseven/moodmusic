{"version":3,"file":"backstage-routes-23226637.js","sources":["../../../resources/client/web-player/backstage/images/claim-label.jpg","../../../resources/client/web-player/backstage/images/claim-artist.jpg","../../../resources/client/web-player/backstage/backstage-type-selector.tsx","../../../resources/client/web-player/backstage/requests/use-create-backstage-request.ts","../../../resources/client/web-player/backstage/backstage-request-form/use-backstage-request-form.ts","../../../resources/client/web-player/backstage/backstage-request-form/backstage-role-select.tsx","../../../resources/client/web-player/backstage/backstage-request-form/backstage-form-attachments.tsx","../../../resources/client/web-player/backstage/backstage-request-form/backstage-request-form-page.tsx","../../../resources/client/web-player/backstage/backstage-request-submitted-page.tsx","../../../resources/client/web-player/backstage/backstage-routes.tsx"],"sourcesContent":["export default \"__VITE_ASSET__dceebe86__\"","export default \"__VITE_ASSET__95695327__\"","import {Trans} from '@common/i18n/trans';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport claimLabelImage from './images/claim-label.jpg';\nimport claimArtistImage from './images/claim-artist.jpg';\nimport {ReactNode} from 'react';\nimport {Link} from 'react-router-dom';\nimport {usePrimaryArtistForCurrentUser} from '@app/web-player/backstage/use-primary-artist-for-current-user';\nimport clsx from 'clsx';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\n\nexport function BackstageTypeSelector() {\n  const {branding} = useSettings();\n  const isArtist = usePrimaryArtistForCurrentUser() != null;\n  return (\n    <BackstageLayout>\n      <div className=\"max-w-780 my:20 md:my-40 mx-auto\">\n        <h1 className=\"text-3xl md:text-5xl text-center font-medium mb-10\">\n          <Trans\n            message=\"Get access to :siteName for artists\"\n            values={{siteName: branding.site_name}}\n          />\n        </h1>\n        <h2 className=\"text-lg font-medium mb-54 text-center\">\n          <Trans message=\"First, select the type of your request\" />\n        </h2>\n        <div className=\"md:flex items-center gap-54\">\n          <ClaimPanelLayout\n            className=\"mb-14 md:mb-0\"\n            title={\n              isArtist ? (\n                <Trans message=\"Get verified\" />\n              ) : (\n                <Trans message=\"Become an artist\" />\n              )\n            }\n            link={isArtist ? 'verify-artist' : 'become-artist'}\n            image={claimArtistImage}\n          />\n          <ClaimPanelLayout\n            title={<Trans message=\"Claim existing artist\" />}\n            link=\"claim-artist\"\n            image={claimLabelImage}\n          />\n        </div>\n      </div>\n    </BackstageLayout>\n  );\n}\n\ninterface ClaimPanelLayoutProps {\n  title: ReactNode;\n  link: string;\n  image: string;\n  className?: string;\n}\nfunction ClaimPanelLayout({\n  title,\n  image,\n  link,\n  className,\n}: ClaimPanelLayoutProps) {\n  return (\n    <Link\n      to={link}\n      className={clsx(\n        'block flex-auto flex flex-col items-center justify-center p-34 border border-2 rounded-md bg-paper transition-shadow hover:shadow-xl hover:bg-primary/4 cursor-pointer',\n        className\n      )}\n    >\n      <h3 className=\"text-lg mb-10 font-medium\">{title}</h3>\n      <img\n        className=\"w-132 h-132 object-cover rounded-full\"\n        src={image}\n        alt=\"\"\n      />\n    </Link>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {BackstageRequest} from '@app/web-player/backstage/backstage-request';\n\nconst endpoint = 'backstage-request';\n\ninterface Response extends BackendResponse {\n  request: BackstageRequest;\n}\n\nexport interface CreateBackstageRequestPayload {\n  type: 'verify-artist' | 'become-artist' | 'claim-artist';\n  artist_id: number | 'CURRENT_USER';\n  artist_name: string;\n  first_name: string;\n  last_name: string;\n  image: string;\n  role: string;\n  company: string;\n  passportScan?: Omit<FileEntry, 'parent' | 'children'>;\n}\n\nexport function useCreateBackstageRequest(\n  form: UseFormReturn<CreateBackstageRequestPayload>\n) {\n  return useMutation(\n    (payload: CreateBackstageRequestPayload) => createRequest(payload),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(DatatableDataQueryKey(endpoint));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createRequest(payload: CreateBackstageRequestPayload) {\n  return apiClient\n    .post<Response>(endpoint, {\n      artist_name: payload.artist_name,\n      artist_id: payload.artist_id,\n      type: payload.type,\n      data: {\n        first_name: payload.first_name,\n        last_name: payload.last_name,\n        image: payload.image,\n        role: payload.role,\n        company: payload.company,\n        passport_scan_id: payload.passportScan?.id,\n      },\n    })\n    .then(r => r.data);\n}\n","import {useAuth} from '@common/auth/use-auth';\nimport {usePrimaryArtistForCurrentUser} from '@app/web-player/backstage/use-primary-artist-for-current-user';\nimport {useForm} from 'react-hook-form';\nimport {CreateBackstageRequestPayload} from '@app/web-player/backstage/requests/use-create-backstage-request';\n\nexport function useBackstageRequestForm(\n  requestType: CreateBackstageRequestPayload['type']\n) {\n  const {user} = useAuth();\n  const primaryArtist = usePrimaryArtistForCurrentUser();\n\n  let artistId: number | 'CURRENT_USER' | undefined;\n  if (requestType === 'verify-artist') {\n    artistId = primaryArtist?.id as number;\n  } else if (requestType === 'become-artist') {\n    artistId = 'CURRENT_USER';\n  }\n\n  return useForm<CreateBackstageRequestPayload>({\n    defaultValues: {\n      artist_id: artistId,\n      artist_name: user?.display_name,\n      first_name: user?.first_name,\n      last_name: user?.last_name,\n      image: primaryArtist?.image || user?.avatar,\n      type: requestType,\n      role: requestType === 'claim-artist' ? 'artist' : undefined,\n    },\n  });\n}\n","import {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport React from 'react';\n\nexport function BackstageRoleSelect() {\n  return (\n    <FormSelect\n      name=\"role\"\n      label={<Trans message=\"Role\" />}\n      selectionMode=\"single\"\n      className=\"mb-24\"\n    >\n      <Item value=\"artist\">\n        <Trans message=\"Artist\" />\n      </Item>\n      <Item value=\"agent\">\n        <Trans message=\"Agent\" />\n      </Item>\n      <Item value=\"composer\">\n        <Trans message=\"Composer\" />\n      </Item>\n      <Item value=\"label\">\n        <Trans message=\"Label\" />\n      </Item>\n      <Item value=\"manager\">\n        <Trans message=\"Manager\" />\n      </Item>\n      <Item value=\"musician\">\n        <Trans message=\"Musician\" />\n      </Item>\n      <Item value=\"producer\">\n        <Trans message=\"Producer\" />\n      </Item>\n      <Item value=\"publisher\">\n        <Trans message=\"Publisher\" />\n      </Item>\n      <Item value=\"songwriter\">\n        <Trans message=\"Songwriter\" />\n      </Item>\n    </FormSelect>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {CreateBackstageRequestPayload} from '@app/web-player/backstage/requests/use-create-backstage-request';\nimport {useSocialLogin} from '@common/auth/requests/use-social-login';\nimport {Trans} from '@common/i18n/trans';\nimport {Button} from '@common/ui/buttons/button';\nimport {TwitterIcon} from '@common/icons/social/twitter';\nimport {invalidateUseUserQuery, useUser} from '@common/auth/ui/use-user';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {FacebookIcon} from '@common/icons/social/facebook';\nimport {DocumentScannerIcon} from '@common/icons/material/DocumentScanner';\nimport {prettyBytes} from '@common/uploads/utils/pretty-bytes';\nimport React, {cloneElement, ReactElement, ReactNode} from 'react';\nimport {SvgIconProps} from '@common/icons/svg-icon';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {useActiveUpload} from '@common/uploads/uploader/use-active-upload';\nimport {UploadInputType} from '@common/uploads/types/upload-input-config';\nimport {Disk} from '@common/uploads/types/backend-metadata';\n\nexport function BackstageFormAttachments() {\n  const {watch, setValue} = useFormContext<CreateBackstageRequestPayload>();\n  const {connectSocial} = useSocialLogin();\n  const passportScan = watch('passportScan');\n\n  return (\n    <div className=\"py-20\">\n      <div className=\"mb-14 text-sm\">\n        <Trans message=\"Speed up the process by connecting artist social media accounts or uploading your passport scan.\" />\n      </div>\n      <Button\n        variant=\"outline\"\n        startIcon={<TwitterIcon className=\"text-twitter\" />}\n        className=\"mr-10 mb-10 md:mb-0\"\n        onClick={async () => {\n          const e = await connectSocial('twitter');\n          if (e?.status === 'SUCCESS') {\n            invalidateUseUserQuery('me');\n            toast(message('Connected twitter account'));\n          }\n        }}\n      >\n        <Trans message=\"Connect to twitter\" />\n      </Button>\n      <Button\n        variant=\"outline\"\n        startIcon={<FacebookIcon className=\"text-facebook\" />}\n        className=\"mr-10 mb-10 md:mb-0\"\n        onClick={async () => {\n          const e = await connectSocial('facebook');\n          if (e?.status === 'SUCCESS') {\n            invalidateUseUserQuery('me');\n            toast(message('Connected facebook account'));\n          }\n        }}\n      >\n        <Trans message=\"Connect to facebook\" />\n      </Button>\n      <PassportScanButton />\n      <div className=\"mt-20\">\n        {passportScan && (\n          <AttachmentLayout\n            icon={<DocumentScannerIcon />}\n            title={<Trans message=\"Passport scan\" />}\n            description={`${passportScan.name} (${prettyBytes(\n              passportScan.file_size\n            )})`}\n            onRemove={() => {\n              setValue('passportScan', undefined);\n            }}\n          />\n        )}\n        <SocialServiceAttachment service=\"twitter\" />\n        <SocialServiceAttachment service=\"facebook\" />\n      </div>\n    </div>\n  );\n}\n\ninterface SocialServiceAttachmentProps {\n  service: 'twitter' | 'facebook';\n}\nfunction SocialServiceAttachment({service}: SocialServiceAttachmentProps) {\n  const {disconnectSocial} = useSocialLogin();\n  const {data} = useUser('me', {\n    with: ['social_profiles'],\n  });\n  const account = data?.user.social_profiles.find(\n    s => s.service_name === service\n  );\n  if (!account) return null;\n\n  return (\n    <AttachmentLayout\n      icon={\n        service === 'twitter' ? (\n          <TwitterIcon className=\"text-twitter\" />\n        ) : (\n          <FacebookIcon className=\"text-facebook\" />\n        )\n      }\n      title={\n        <span className=\"capitalize\">\n          <Trans message=\":service account\" values={{service}} />\n        </span>\n      }\n      description={account.username}\n      isDisabled={disconnectSocial.isLoading}\n      onRemove={() => {\n        disconnectSocial.mutate(\n          {service: 'twitter'},\n          {\n            onSuccess: () => {\n              invalidateUseUserQuery('me');\n            },\n          }\n        );\n      }}\n    />\n  );\n}\n\ninterface AttachmentLayoutProps {\n  icon: ReactElement<SvgIconProps>;\n  title: ReactNode;\n  description: ReactNode;\n  onRemove: () => void;\n  isDisabled?: boolean;\n}\nfunction AttachmentLayout({\n  icon,\n  title,\n  description,\n  onRemove,\n  isDisabled,\n}: AttachmentLayoutProps) {\n  return (\n    <div className=\"flex items-center gap-8 border rounded px-14 py-8 mb-8\">\n      <div className=\"flex-shrink-0 text-muted\">\n        {cloneElement(icon, {size: 'lg'})}\n      </div>\n      <div>\n        <div className=\"text-xs text-muted\">{title}</div>\n        <div className=\"text-sm\">{description}</div>\n      </div>\n      <IconButton\n        className=\"flex-shrink-0 ml-auto\"\n        onClick={() => onRemove()}\n        disabled={isDisabled}\n      >\n        <CloseIcon />\n      </IconButton>\n    </div>\n  );\n}\n\nconst FiveMB = 5 * 1024 * 1024;\nfunction PassportScanButton() {\n  const {setValue} = useFormContext<CreateBackstageRequestPayload>();\n  const {selectAndUploadFile} = useActiveUpload();\n\n  const handleUpload = () => {\n    selectAndUploadFile({\n      showToastOnRestrictionFail: true,\n      restrictions: {\n        allowedFileTypes: [UploadInputType.image],\n        maxFileSize: FiveMB,\n      },\n      metadata: {\n        disk: Disk.uploads,\n      },\n      onSuccess: entry => {\n        setValue('passportScan', entry);\n      },\n    });\n  };\n\n  return (\n    <Button\n      variant=\"outline\"\n      startIcon={<DocumentScannerIcon className=\"text-primary\" />}\n      onClick={() => handleUpload()}\n    >\n      <Trans message=\"Upload passport scan\" />\n    </Button>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {FormNormalizedModelField} from '@common/ui/forms/normalized-model-field';\nimport React from 'react';\nimport {ARTIST_MODEL} from '@app/web-player/artists/artist';\nimport {Link, useLocation} from 'react-router-dom';\nimport {Button} from '@common/ui/buttons/button';\nimport {\n  CreateBackstageRequestPayload,\n  useCreateBackstageRequest,\n} from '@app/web-player/backstage/requests/use-create-backstage-request';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {useBackstageRequestForm} from '@app/web-player/backstage/backstage-request-form/use-backstage-request-form';\nimport {BackstageRoleSelect} from '@app/web-player/backstage/backstage-request-form/backstage-role-select';\nimport {BackstageFormAttachments} from '@app/web-player/backstage/backstage-request-form/backstage-form-attachments';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\n\nexport function BackstageRequestFormPage() {\n  const {pathname} = useLocation();\n  const requestType = pathname\n    .split('/')\n    .pop() as CreateBackstageRequestPayload['type'];\n  return (\n    <BackstageLayout>\n      <div className=\"max-w-780 my-40 mx-auto\">\n        <h1 className=\"text-3xl md:text-5xl text-center font-medium\">\n          <Trans message=\"Tell us about yourself\" />\n        </h1>\n        <ClaimForm requestType={requestType} />\n      </div>\n    </BackstageLayout>\n  );\n}\n\ninterface ClaimFormProps {\n  requestType: CreateBackstageRequestPayload['type'];\n}\nfunction ClaimForm({requestType}: ClaimFormProps) {\n  const navigate = useNavigate();\n  const form = useBackstageRequestForm(requestType);\n  const submitRequest = useCreateBackstageRequest(form);\n\n  return (\n    <FileUploadProvider>\n      <Form\n        form={form}\n        onSubmit={values => {\n          submitRequest.mutate(values, {\n            onSuccess: response => {\n              navigate(\n                `/backstage/requests/${response.request.id}/request-submitted`,\n                {replace: true}\n              );\n            },\n          });\n        }}\n      >\n        <FormImageSelector\n          name=\"image\"\n          diskPrefix=\"artist_media\"\n          variant=\"avatar\"\n          previewSize=\"w-160 h-160\"\n          className=\"my-30 max-w-max mx-auto\"\n          disabled={requestType === 'become-artist'}\n        />\n        {requestType !== 'become-artist' && (\n          <FormNormalizedModelField\n            className=\"mb-24\"\n            label={<Trans message=\"Select artist\" />}\n            name=\"artist_id\"\n            modelType={ARTIST_MODEL}\n            openMenuOnFocus\n            customEndpoint=\"search/suggestions\"\n            queryParams={{\n              listAll: 'true',\n              excludeSelf: 'true',\n            }}\n            disabled={requestType === 'verify-artist'}\n          />\n        )}\n        {requestType === 'become-artist' && (\n          <FormTextField\n            required\n            name=\"artist_name\"\n            label={<Trans message=\"Your artist name\" />}\n            className=\"mb-24\"\n          />\n        )}\n        <div className=\"md:flex items-center gap-24 mb-24\">\n          <FormTextField\n            required\n            name=\"first_name\"\n            label={<Trans message=\"First name\" />}\n            className=\"flex-auto mb-24 md:mb-0\"\n          />\n          <FormTextField\n            required\n            name=\"last_name\"\n            label={<Trans message=\"Last name\" />}\n            className=\"flex-auto\"\n          />\n        </div>\n        {requestType === 'claim-artist' && <BackstageRoleSelect />}\n        <FormTextField\n          required\n          name=\"company\"\n          label={<Trans message=\"Company (optional)\" />}\n          className=\"mb-24\"\n        />\n        <BackstageFormAttachments />\n        <div className=\"flex gap-24 justify-between border-t pt-34\">\n          <Button\n            variant=\"raised\"\n            color=\"white\"\n            elementType={Link}\n            to=\"..\"\n            relative=\"path\"\n            className=\"min-w-140\"\n            radius=\"rounded-full\"\n          >\n            <Trans message=\"Go back\" />\n          </Button>\n          <Button\n            variant=\"raised\"\n            color=\"primary\"\n            type=\"submit\"\n            className=\"min-w-140\"\n            radius=\"rounded-full\"\n            disabled={submitRequest.isLoading}\n          >\n            <Trans message=\"Submit request\" />\n          </Button>\n        </div>\n      </Form>\n    </FileUploadProvider>\n  );\n}\n","import {CheckIcon} from '@common/icons/material/Check';\nimport {Trans} from '@common/i18n/trans';\nimport {Link, Navigate} from 'react-router-dom';\nimport {Button} from '@common/ui/buttons/button';\nimport {useBackstageRequest} from '@app/web-player/backstage/requests/use-backstage-request';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\n\nexport function BackstageRequestSubmittedPage() {\n  const {data, isLoading} = useBackstageRequest();\n\n  if (isLoading) {\n    return <FullPageLoader className=\"my-40\" />;\n  }\n\n  if (!data?.request) {\n    return <Navigate to=\"/\" />;\n  }\n\n  return (\n    <BackstageLayout>\n      <div className=\"max-w-[590px] my-40 mx-auto\">\n        <div>\n          <div className=\"text-center\">\n            <CheckIcon size=\"text-6xl\" />\n          </div>\n\n          <h1 className=\"text-5xl font-medium mt-24 mb-48 text-center\">\n            <Trans message=\"We've got your request\" />\n          </h1>\n\n          <ul className=\"mb-60 list-disc list-inside px-20\">\n            <li className=\"pb-10\">\n              <Trans message=\"Our support team will review it and send you an email within 3 days!\" />\n            </li>\n            <li className=\"pb-10\">\n              <Trans message=\"Don't submit another request until you hear from us.\" />\n            </li>\n            <li>\n              <Trans\n                message=\" If this artist profile is already claimed, ask an admin on your team\n            to invite you.\"\n              />\n            </li>\n          </ul>\n\n          <div className=\"text-center\">\n            <Button\n              variant=\"raised\"\n              color=\"primary\"\n              elementType={Link}\n              to=\"/\"\n              className=\"min-w-140\"\n              radius=\"rounded-full\"\n            >\n              <Trans message=\"Got It\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    </BackstageLayout>\n  );\n}\n","import {RouteObject, useRoutes} from 'react-router-dom';\nimport React from 'react';\nimport {UpdateTrackPage} from '@app/admin/tracks-datatable-page/crupdate/update-track-page';\nimport {UploadPage} from '@app/web-player/backstage/upload-page/upload-page';\nimport {AuthRoute} from '@common/auth/guards/auth-route';\nimport {CreateTrackPage} from '@app/admin/tracks-datatable-page/crupdate/create-track-page';\nimport {CreateAlbumPage} from '@app/admin/albums-datatable-page/create-album-page';\nimport {UpdateAlbumPage} from '@app/admin/albums-datatable-page/update-album-page';\nimport {BackstageTypeSelector} from '@app/web-player/backstage/backstage-type-selector';\nimport {BackstageRequestFormPage} from '@app/web-player/backstage/backstage-request-form/backstage-request-form-page';\nimport {BackstageRequestSubmittedPage} from '@app/web-player/backstage/backstage-request-submitted-page';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\nimport {UpdateArtistPage} from '@app/admin/artist-datatable-page/update-artist-page';\nimport {BackstageArtistInsights} from '@app/web-player/backstage/insights/backstage-artist-insights';\nimport {BackstageAlbumInsights} from '@app/web-player/backstage/insights/backstage-album-insights';\nimport {BackstageTrackInsights} from '@app/web-player/backstage/insights/backstage-track-insights';\n\nconst RouteConfig: RouteObject[] = [\n  {\n    path: 'upload',\n    element: (\n      <AuthRoute permission=\"music.create\">\n        <UploadPage />\n      </AuthRoute>\n    ),\n  },\n\n  // Backstage request form\n  {\n    path: 'requests',\n    element: <BackstageTypeSelector />,\n  },\n  {\n    path: 'requests/verify-artist',\n    element: <BackstageRequestFormPage />,\n  },\n  {\n    path: 'requests/become-artist',\n    element: <BackstageRequestFormPage />,\n  },\n  {\n    path: 'requests/claim-artist',\n    element: <BackstageRequestFormPage />,\n  },\n  {\n    path: 'requests/:requestId/request-submitted',\n    element: <BackstageRequestSubmittedPage />,\n  },\n\n  // Tracks\n  {\n    path: 'tracks/new',\n    element: (\n      <BackstageLayout>\n        <CreateTrackPage />\n      </BackstageLayout>\n    ),\n  },\n  {\n    path: 'tracks/:trackId/edit',\n    element: (\n      <BackstageLayout>\n        <UpdateTrackPage />\n      </BackstageLayout>\n    ),\n  },\n  {\n    path: 'tracks/:trackId/insights',\n    element: <BackstageTrackInsights />,\n  },\n\n  // Albums\n  {\n    path: 'albums/new',\n    element: (\n      <BackstageLayout>\n        <CreateAlbumPage wrapInContainer={false} />\n      </BackstageLayout>\n    ),\n  },\n  {\n    path: 'albums/:albumId/edit',\n    element: (\n      <BackstageLayout>\n        <UpdateAlbumPage wrapInContainer={false} />\n      </BackstageLayout>\n    ),\n  },\n  {\n    path: 'albums/:albumId/insights',\n    element: <BackstageAlbumInsights />,\n  },\n\n  // Artists\n  {\n    path: 'artists/:artistId/edit',\n    element: (\n      <BackstageLayout>\n        <UpdateArtistPage wrapInContainer={false} showExternalFields={false} />\n      </BackstageLayout>\n    ),\n  },\n  {\n    path: 'artists/:artistId/insights',\n    element: <BackstageArtistInsights />,\n  },\n];\n\nexport default function BackstageRoutes() {\n  return useRoutes(RouteConfig);\n}\n"],"names":["claimLabelImage","claimArtistImage","BackstageTypeSelector","branding","useSettings","isArtist","usePrimaryArtistForCurrentUser","jsx","BackstageLayout","jsxs","Trans","ClaimPanelLayout","title","image","link","className","Link","clsx","endpoint","useCreateBackstageRequest","form","useMutation","payload","createRequest","queryClient","DatatableDataQueryKey","err","onFormQueryError","apiClient","_a","r","useBackstageRequestForm","requestType","user","useAuth","primaryArtist","artistId","useForm","BackstageRoleSelect","FormSelect","Item","BackstageFormAttachments","watch","setValue","useFormContext","connectSocial","useSocialLogin","passportScan","Button","TwitterIcon","e","invalidateUseUserQuery","toast","message","FacebookIcon","PassportScanButton","AttachmentLayout","DocumentScannerIcon","prettyBytes","SocialServiceAttachment","service","disconnectSocial","data","useUser","account","s","icon","description","onRemove","isDisabled","cloneElement","IconButton","CloseIcon","FiveMB","selectAndUploadFile","useActiveUpload","handleUpload","UploadInputType","Disk","entry","BackstageRequestFormPage","pathname","useLocation","ClaimForm","navigate","useNavigate","submitRequest","FileUploadProvider","Form","values","response","FormImageSelector","FormNormalizedModelField","ARTIST_MODEL","FormTextField","BackstageRequestSubmittedPage","isLoading","useBackstageRequest","FullPageLoader","CheckIcon","Navigate","RouteConfig","AuthRoute","UploadPage","CreateTrackPage","UpdateTrackPage","BackstageTrackInsights","CreateAlbumPage","UpdateAlbumPage","BackstageAlbumInsights","UpdateArtistPage","BackstageArtistInsights","BackstageRoutes","useRoutes"],"mappings":"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"}